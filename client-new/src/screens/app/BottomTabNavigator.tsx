import React from 'react';
import Svg, { G, Path, Defs, ClipPath, Rect } from 'react-native-svg';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import HomeScreen from './HomeScreen'; // Import your HomeScreen component
import GuideScreen from './GuideScreen';
import TaskScreen from './TaskScreen';
import MapScreen from './MarketplaceScreen';
import ProfileScreen from './ProfileScreen';


const Tab = createBottomTabNavigator();

const HomeIcon = ({ focused }) => (
  <Svg width="27" height="26" viewBox="0 0 41 39" fill={focused ? 'green' : 'gray'}>
    <Path
      d="M38.5346 11.5159L23.9311 1.10472C21.8691 -0.36824 19.0971 -0.36824 17.0351 1.10472L2.44853 11.5159C0.572398 12.8382 -0.340317 15.1481 0.116041 17.391L3.51337 34.2966C4.05423 37.0249 6.48814 39 9.29389 39H31.7061C34.5119 39 36.9458 37.0249 37.4866 34.2966L40.884 17.391C41.3403 15.1481 40.4276 12.8549 38.5515 11.5159H38.5346ZM21.717 26.2288C20.8718 26.4296 19.976 26.4129 19.114 26.3961C17.9309 26.3794 16.7646 26.3459 15.5815 26.3124C15.6829 25.3249 15.5815 24.3039 15.5308 23.2661C15.497 22.2451 15.5308 21.1906 15.8857 20.2197C16.2407 19.2489 16.9844 18.3451 18.0154 17.9433C18.0661 19.9854 18.0492 22.0107 17.9647 24.0528C20.2465 24.0528 22.5283 24.0863 24.7931 24.0863C24.134 25.1408 23.0015 25.9275 21.7001 26.2288H21.717ZM25.3678 22.8811C25.2664 22.9648 25.1143 22.9815 24.9791 22.9815C23.086 22.9815 21.193 23.015 19.2999 23.015C19.2999 21.3412 19.2999 19.6674 19.2999 17.9936C19.2999 17.8094 19.2999 17.6086 19.469 17.4747C19.5873 17.3742 19.7563 17.3575 19.9084 17.3408C20.3817 17.3073 20.8718 17.3073 21.3451 17.3408C21.3451 18.5459 21.3282 19.7845 21.3282 21.0399C22.6973 21.0399 24.0833 21.0399 25.4523 21.0399V22.5296C25.4861 22.6468 25.4692 22.7974 25.3847 22.8811H25.3678ZM25.4692 20.0691H22.5452V17.4245H25.4692V20.0691Z"
    />
  </Svg>
);

const GuidesIcon = ({focused}) => {
  return (
    <Svg width= "31" height= "26" viewBox="0 0 40 34" fill={focused ? 'green' : 'gray'}>
      <G ClipPath="url(#clip0_3149_20818)">
        <Path d="M37.8054 0.444334L26.1887 5.88137L14.5574 0.444334C14.3087 0.355445 14.06 0.34063 13.8259 0.37026C13.5918 0.34063 13.3431 0.37026 13.0944 0.444334L1.12655 6.02952C0.453548 6.26656 0 6.90359 0 7.62952V31.9703C0 33.0962 1.0534 33.8962 2.12143 33.5851L13.8259 28.7554L25.5304 33.5851C25.7498 33.6443 25.9693 33.6592 26.1887 33.6295C26.4082 33.6592 26.6277 33.6443 26.8471 33.5851L38.8003 28.6517C39.5172 28.4443 40.0146 27.7777 40.0146 27.0369V2.04433C40.0146 0.888779 38.8881 0.0739638 37.82 0.444334H37.8054Z" fill="#2F1D12"/>
        <Path d="M37.7864 10.1439L37.5469 8.0542L35.2943 8.31893L35.5338 10.4086L37.7864 10.1439Z" fill="white" />
        <Path d="M30.7094 15.9556C31.6165 15.8815 32.5382 15.7926 33.4453 15.7038C34.1183 15.6445 34.806 15.5704 35.4497 15.3334C36.4153 14.9778 37.2346 14.2519 37.6443 13.363C35.8886 13.5556 34.1183 13.763 32.3627 13.9556C32.2456 12.3408 32.0847 10.726 31.8506 9.12598C31.0898 9.54079 30.607 10.3112 30.4022 11.1112C30.1973 11.9112 30.2851 12.7408 30.4022 13.5408C30.5192 14.3408 30.6948 15.1408 30.7094 15.9408V15.9556Z" fill="white" />
        <Path d="M34.3522 8.37036C33.9718 8.39999 33.6061 8.44444 33.2403 8.51851C33.1233 8.54814 32.9916 8.57777 32.9038 8.65184C32.8014 8.77036 32.816 8.93332 32.8307 9.08147C32.977 10.4 33.1379 11.7185 33.2842 13.037C34.7473 12.8593 36.2103 12.6667 37.6734 12.4889C37.7758 12.4889 37.9075 12.4593 37.966 12.3704C38.0245 12.2963 38.0245 12.1778 38.0099 12.0889C37.966 11.7037 37.9075 11.3037 37.8636 10.9185L34.6887 11.2889C34.5717 10.3111 34.4693 9.31851 34.3669 8.37036H34.3522Z" fill="white" />
        <Path d="M30.0654 21.7631L38.2293 18.9482" stroke="white" stroke-width="0.5" stroke-miterlimit="10" stroke-linecap="round" />
        <Path d="M30.0654 24.1779L38.2293 21.363" stroke="white" stroke-width="0.5" stroke-miterlimit="10" stroke-linecap="round" />
        <Path d="M30.0654 27.0519L38.2293 24.2371" stroke="white" stroke-width="0.5" stroke-miterlimit="10" stroke-linecap="round" />
        <Path d="M13.8262 0.370361V28.7555" stroke="white" stroke-width="0.5" stroke-miterlimit="10" stroke-linecap="round" />
        <Path d="M26.1885 5.88159V33.6297" stroke="white" stroke-width="0.5" stroke-miterlimit="10" stroke-linecap="round" />
      </G>
      <Defs>
        <ClipPath id="clip0_3149_20818">
          <Rect width={40} height={34} fill="white" />
        </ClipPath>
      </Defs>
    </Svg>
  );
};

const MarketplaceIcon = ({focused}) => {
  return (
    <Svg width="16" height="26" viewBox="0 0 19 33" fill={focused ? 'green' : 'gray'}>
      <G clip-path="url(#clip0_3149_20828)">
        <Path d="M16.2779 3.09705C14.482 1.17312 12.1027 0 9.50605 0C6.90942 0 4.53013 1.17312 2.73423 3.09705C-0.0454231 6.06506 -0.69744 10.5229 0.74386 14.359L6.01719 28.3896C6.73784 30.1141 7.27547 33 9.50605 33C11.8625 33 12.2743 30.1141 12.9949 28.3896L18.2682 14.359C19.7095 10.5229 19.0575 6.06506 16.2893 3.09705H16.2779ZM9.50605 13.8663C7.09245 13.8663 5.13639 11.7664 5.13639 9.1621C5.13639 6.55777 7.09245 4.45787 9.50605 4.45787C11.9197 4.45787 13.8757 6.55777 13.8757 9.1621C13.8757 11.7664 11.9197 13.8663 9.50605 13.8663Z" fill="#2F1D12" />
      </G>
      <Defs>
        <ClipPath id="clip0_3149_20828">
          <Rect width="19" height="33" fill="white" />
        </ClipPath>
      </Defs>
    </Svg>
  );
};

const ProfileIcon = ({focused}) => {
  return (
    <Svg width="26" height="26" viewBox="0 0 31 31" fill="none">
      <G clip-path="url(#clip0_3149_20839)">
        <Path d="M29.8075 30.1155C30.5686 30.1155 31.1651 29.3955 30.9389 28.6756C29.6018 24.582 23.2043 18.7605 15.4903 18.7605C7.77628 18.7605 1.3788 24.5614 0.041704 28.655C-0.184573 29.375 0.411976 30.0949 1.17309 30.0949H29.8075V30.1155Z" fill="#2F1D12" />
        <Path d="M15.4895 15.4691C19.7611 15.4691 23.224 12.0063 23.224 7.73457C23.224 3.46289 19.7611 0 15.4895 0C11.2178 0 7.75488 3.46289 7.75488 7.73457C7.75488 12.0063 11.2178 15.4691 15.4895 15.4691Z" fill="#2F1D12" />
      </G>
      <Defs>
        <ClipPath id="clip0_3149_20839">
          <Rect width="31" height="30.1155" fill="white" />
        </ClipPath>
      </Defs>
    </Svg>
  );
};

const TaskIcon = ({focused}) => {
  return (
    <Svg width="28" height="26" viewBox="0 0 33 30" fill="none">
      <G clip-path="url(#clip0_3149_20830)">
        <Path d="M29.6038 8.49121H3.39621C1.52053 8.49121 0 9.96847 0 11.7908V26.7007C0 28.523 1.52053 30.0002 3.39621 30.0002H29.6038C31.4795 30.0002 33 28.523 33 26.7007V11.7908C33 9.96847 31.4795 8.49121 29.6038 8.49121Z" fill="#2F1D12" />
        <Path d="M8.28765 0H24.7123C26.3467 0 27.6796 1.29505 27.6796 2.88288C27.6796 3.06306 27.529 3.22072 27.3319 3.22072H5.66805C5.48259 3.22072 5.32031 3.07432 5.32031 2.88288C5.32031 1.29505 6.65329 0 8.28765 0Z" fill="#2F1D12" />
        <Path d="M5.49468 4.24536H27.5063C29.1406 4.24536 30.4736 5.54041 30.4736 7.12824C30.4736 7.30842 30.3229 7.46608 30.1259 7.46608H2.87508C2.68962 7.46608 2.52734 7.31969 2.52734 7.12824C2.52734 5.54041 3.86033 4.24536 5.49468 4.24536Z" fill="#2F1D12" />
        <Path d="M19.9707 18.0405V16.2612H17.977V18.0405H19.9707Z" fill="white" />
        <Path d="M13.2139 22.2184C14.0137 22.241 14.825 22.2635 15.6248 22.2747C16.216 22.286 16.8303 22.2973 17.4099 22.1621C18.2908 21.9594 19.0674 21.4301 19.5195 20.7319C17.9662 20.7319 16.413 20.7094 14.8598 20.7094C14.9294 19.3468 14.941 17.9842 14.8946 16.6216C14.1875 16.8919 13.6891 17.5 13.4341 18.1419C13.1791 18.7837 13.1675 19.4932 13.1907 20.1801C13.2139 20.8671 13.295 21.554 13.2255 22.2184H13.2139Z" fill="white" />
        <Path d="M17.1546 16.2165C16.8301 16.2052 16.4939 16.2052 16.1694 16.2165C16.065 16.2165 15.9491 16.239 15.868 16.3065C15.7637 16.3854 15.7637 16.5318 15.7637 16.6556C15.7637 17.7705 15.7637 18.8966 15.7637 20.0115L19.6467 19.989C19.7394 19.989 19.8438 19.989 19.9133 19.9214C19.9828 19.8651 19.9828 19.7638 19.9828 19.6849C19.9828 19.3471 19.9828 19.0205 19.9713 18.6827H17.1546C17.1546 17.8493 17.1546 17.016 17.1662 16.2165H17.1546Z" fill="white" />
      </G>
      <Defs>
        <ClipPath id="clip0_3149_20830">
          <Rect width="33" height="30" fill="white" />
        </ClipPath>
      </Defs>
    </Svg>
  );
};


const TabNavigator = () => {
  return (
    <Tab.Navigator
      screenOptions={({ route }) => ({
        headerShown: false,
        tabBarIcon: ({ focused }) => {
          let iconComponent;

          if (route.name === 'Home') {
            iconComponent = <HomeIcon focused={focused} />;
          } else if (route.name === 'Guides') {
            iconComponent = <GuidesIcon focused={focused} />;
          } else if (route.name === 'Tasks') {
            iconComponent = <TaskIcon focused={focused} />;
          } else if (route.name === 'Marketplace') {
            iconComponent = <MarketplaceIcon focused={focused} />;
          } else if (route.name === 'Profile') {
            iconComponent = <ProfileIcon focused={focused} />;
          }
          return iconComponent;
        },
        tabBarStyle: {
          backgroundColor: '#FFF9EE',
          borderTopWidth: 1,
          paddingTop: 10,
          paddingBottom: 10,

        },
        tabBarLabel: ''
      })}
    >
      <Tab.Screen name="Home" component={HomeScreen} />
      <Tab.Screen name="Guides" component={GuideScreen} />
      <Tab.Screen name="Marketplace" component={MapScreen} />
      <Tab.Screen name="Tasks" component={TaskScreen} />
      <Tab.Screen name="Profile" component={ProfileScreen} />

    </Tab.Navigator>
  );
};

export default TabNavigator;